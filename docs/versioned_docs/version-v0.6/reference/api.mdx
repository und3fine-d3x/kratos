---
title: REST API
id: api
---

Welcome to the Ory Kratos HTTP API documentation!

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

:::info

You are viewing REST API documentation. This documentation is auto-generated
from a swagger specification which itself is generated from annotations in the
source code of the project. It is possible that this documentation includes bugs
and that code samples are incomplete or wrong.

If you find issues in the respective documentation, please do not edit the
Markdown files directly (as they are generated) but raise an issue on the
project's GitHub presence instead. This documentation will improve over time
with your help! If you have ideas how to improve this part of the documentation,
feel free to share them in a
[GitHub issue](https://github.com/ory/docs/issues/new) any time.

:::

## Authentication

- API Key (sessionCookie)
  - Parameter Name: **Cookie**, in: header.
- API Key (sessionToken)
  - Parameter Name: **X-Session-Token**, in: header.

<a id="ory-kratos-health"></a>

## health

<a id="opIdisInstanceAlive"></a>

### Check alive status

```
GET /health/alive HTTP/1.1
Accept: application/json

```

This endpoint returns a 200 status code when the HTTP server is up running. This
status does currently not include checks whether the database connection is
working.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="check-alive-status-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | healthStatus | [healthStatus](#schemahealthstatus) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /health/alive \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/health/alive", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/health/alive', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/health/alive");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/health/alive',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/health/alive',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdisInstanceReady"></a>

### Check readiness status

```
GET /health/ready HTTP/1.1
Accept: application/json

```

This endpoint returns a 200 status code when the HTTP server is up running and
the environment dependencies (e.g. the database) are responsive as well.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="check-readiness-status-responses"></a>

##### Overview

| Status | Meaning                                                                  | Description          | Schema                                              |
| ------ | ------------------------------------------------------------------------ | -------------------- | --------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                  | healthStatus         | [healthStatus](#schemahealthstatus)                 |
| 503    | [Service Unavailable](https://tools.ietf.org/html/rfc7231#section-6.6.4) | healthNotReadyStatus | [healthNotReadyStatus](#schemahealthnotreadystatus) |

##### Examples

###### 200 response

```json
{
  "status": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /health/ready \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/health/ready", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/health/ready', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/health/ready");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/health/ready',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/health/ready',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-kratos-administrative-endpoints"></a>

## Administrative Endpoints

<a id="opIdlistIdentities"></a>

### List Identities

```
GET /identities HTTP/1.1
Accept: application/json

```

Lists all identities. Does not support search at the moment.

Learn how identities work in
[Ory Kratos' User And Identity Model Documentation](https://www.ory.sh/docs/next/kratos/concepts/identity-user-model).

<a id="list-identities-parameters"></a>

#### Parameters

| Parameter | In    | Type           | Required | Description     |
| --------- | ----- | -------------- | -------- | --------------- |
| per_page  | query | integer(int64) | false    | Items per Page  |
| page      | query | integer(int64) | false    | Pagination Page |

##### Detailed descriptions

**per_page**: Items per Page

This is the number of items per page.

#### Responses

<a id="list-identities-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description           | Schema                              |
| ------ | -------------------------------------------------------------------------- | --------------------- | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | A list of identities. | Inline                              |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError          | [genericError](#schemagenericerror) |

<a id="list-identities-responseschema"></a>

##### Response Schema

Status Code **200**

| Name                   | Type                                                      | Required | Restrictions | Description                                                                                                       |
| ---------------------- | --------------------------------------------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------- |
| _anonymous_            | [[Identity](#schemaidentity)]                             | false    | none         | none                                                                                                              |
| » id                   | [UUID](#schemauuid)(uuid4)                                | true     | none         | none                                                                                                              |
| » recovery_addresses   | [[RecoveryAddress](#schemarecoveryaddress)]               | false    | none         | RecoveryAddresses contains all the addresses that can be used to recover an identity.                             |
| »» id                  | [UUID](#schemauuid)(uuid4)                                | true     | none         | none                                                                                                              |
| »» value               | string                                                    | true     | none         | none                                                                                                              |
| »» via                 | [RecoveryAddressType](#schemarecoveryaddresstype)         | true     | none         | none                                                                                                              |
| » schema_id            | string                                                    | true     | none         | SchemaID is the ID of the JSON Schema to be used for validating the identity's traits.                            |
| » schema_url           | string                                                    | true     | none         | SchemaURL is the URL of the endpoint where the identity's traits schema can be fetched from.<br/><br/>format: url |
| » traits               | [Traits](#schematraits)                                   | true     | none         | none                                                                                                              |
| » verifiable_addresses | [[VerifiableAddress](#schemaverifiableaddress)]           | false    | none         | VerifiableAddresses contains all the addresses that can be verified by the user.                                  |
| »» id                  | [UUID](#schemauuid)(uuid4)                                | true     | none         | none                                                                                                              |
| »» status              | [VerifiableAddressStatus](#schemaverifiableaddressstatus) | true     | none         | none                                                                                                              |
| »» value               | string                                                    | true     | none         | none                                                                                                              |
| »» verified            | boolean                                                   | true     | none         | none                                                                                                              |
| »» verified_at         | [NullTime](#schemanulltime)(date-time)                    | false    | none         | none                                                                                                              |
| »» via                 | [VerifiableAddressType](#schemaverifiableaddresstype)     | true     | none         | none                                                                                                              |

##### Examples

###### 200 response

```json
[
  {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  }
]
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /identities \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/identities", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/identities', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/identities");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/identities',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/identities',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdcreateIdentity"></a>

### Create an Identity

```
POST /identities HTTP/1.1
Content-Type: application/json
Accept: application/json

```

This endpoint creates an identity. It is NOT possible to set an identity's
credentials (password, ...) using this method! A way to achieve that will be
introduced in the future.

Learn how identities work in
[Ory Kratos' User And Identity Model Documentation](https://www.ory.sh/docs/next/kratos/concepts/identity-user-model).

#### Request body

```json
{
  "schema_id": "string",
  "traits": {}
}
```

<a id="create-an-identity-parameters"></a>

#### Parameters

| Parameter | In   | Type                                    | Required | Description |
| --------- | ---- | --------------------------------------- | -------- | ----------- |
| body      | body | [CreateIdentity](#schemacreateidentity) | false    | none        |

#### Responses

<a id="create-an-identity-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description        | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------------ | ----------------------------------- |
| 201    | [Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)               | A single identity. | [Identity](#schemaidentity)         |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError       | [genericError](#schemagenericerror) |
| 409    | [Conflict](https://tools.ietf.org/html/rfc7231#section-6.5.8)              | genericError       | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError       | [genericError](#schemagenericerror) |

##### Examples

###### 201 response

```json
{
  "id": "string",
  "recovery_addresses": [
    {
      "id": "string",
      "value": "string",
      "via": "string"
    }
  ],
  "schema_id": "string",
  "schema_url": "string",
  "traits": {},
  "verifiable_addresses": [
    {
      "id": "string",
      "status": "string",
      "value": "string",
      "verified": true,
      "verified_at": "2019-08-24T14:15:22Z",
      "via": "string"
    }
  ]
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /identities \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/identities", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "schema_id": "string",
  "traits": {}
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/identities', {
  method: 'POST',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/identities");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/identities',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/identities',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetIdentity"></a>

### Get an Identity

```
GET /identities/{id} HTTP/1.1
Accept: application/json

```

Learn how identities work in
[Ory Kratos' User And Identity Model Documentation](https://www.ory.sh/docs/next/kratos/concepts/identity-user-model).

<a id="get-an-identity-parameters"></a>

#### Parameters

| Parameter | In   | Type   | Required | Description                                          |
| --------- | ---- | ------ | -------- | ---------------------------------------------------- |
| id        | path | string | true     | ID must be set to the ID of identity you want to get |

#### Responses

<a id="get-an-identity-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description        | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | A single identity. | [Identity](#schemaidentity)         |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError       | [genericError](#schemagenericerror) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError       | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError       | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "id": "string",
  "recovery_addresses": [
    {
      "id": "string",
      "value": "string",
      "via": "string"
    }
  ],
  "schema_id": "string",
  "schema_url": "string",
  "traits": {},
  "verifiable_addresses": [
    {
      "id": "string",
      "status": "string",
      "value": "string",
      "verified": true,
      "verified_at": "2019-08-24T14:15:22Z",
      "via": "string"
    }
  ]
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /identities/{id} \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/identities/{id}", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/identities/{id}', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/identities/{id}");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/identities/{id}',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/identities/{id}',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdupdateIdentity"></a>

### Update an Identity

```
PUT /identities/{id} HTTP/1.1
Content-Type: application/json
Accept: application/json

```

This endpoint updates an identity. It is NOT possible to set an identity's
credentials (password, ...) using this method! A way to achieve that will be
introduced in the future.

The full identity payload (except credentials) is expected. This endpoint does
not support patching.

Learn how identities work in
[Ory Kratos' User And Identity Model Documentation](https://www.ory.sh/docs/next/kratos/concepts/identity-user-model).

#### Request body

```json
{
  "schema_id": "string",
  "traits": {}
}
```

<a id="update-an-identity-parameters"></a>

#### Parameters

| Parameter | In   | Type                                    | Required | Description                                             |
| --------- | ---- | --------------------------------------- | -------- | ------------------------------------------------------- |
| id        | path | string                                  | true     | ID must be set to the ID of identity you want to update |
| body      | body | [UpdateIdentity](#schemaupdateidentity) | false    | none                                                    |

#### Responses

<a id="update-an-identity-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description        | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | A single identity. | [Identity](#schemaidentity)         |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError       | [genericError](#schemagenericerror) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError       | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError       | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "id": "string",
  "recovery_addresses": [
    {
      "id": "string",
      "value": "string",
      "via": "string"
    }
  ],
  "schema_id": "string",
  "schema_url": "string",
  "traits": {},
  "verifiable_addresses": [
    {
      "id": "string",
      "status": "string",
      "value": "string",
      "verified": true,
      "verified_at": "2019-08-24T14:15:22Z",
      "via": "string"
    }
  ]
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X PUT /identities/{id} \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("PUT", "/identities/{id}", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "schema_id": "string",
  "traits": {}
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/identities/{id}', {
  method: 'PUT',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/identities/{id}");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("PUT");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.put(
  '/identities/{id}',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.put '/identities/{id}',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIddeleteIdentity"></a>

### Delete an Identity

```
DELETE /identities/{id} HTTP/1.1
Accept: application/json

```

Calling this endpoint irrecoverably and permanently deletes the identity given
its ID. This action can not be undone. This endpoint returns 204 when the
identity was deleted or when the identity was not found, in which case it is
assumed that is has been deleted already.

Learn how identities work in
[Ory Kratos' User And Identity Model Documentation](https://www.ory.sh/docs/next/kratos/concepts/identity-user-model).

<a id="delete-an-identity-parameters"></a>

#### Parameters

| Parameter | In   | Type   | Required | Description              |
| --------- | ---- | ------ | -------- | ------------------------ |
| id        | path | string | true     | ID is the identity's ID. |

#### Responses

<a id="delete-an-identity-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 204    | [No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)            | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError                                                                                                                  | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 404 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X DELETE /identities/{id} \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("DELETE", "/identities/{id}", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/identities/{id}', {
  method: 'DELETE',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/identities/{id}");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("DELETE");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.delete(
  '/identities/{id}',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.delete '/identities/{id}',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdprometheus"></a>

### Get snapshot metrics from the Hydra service. If you're using k8s, you can then add annotations to

your deployment like so:

```
GET /metrics/prometheus HTTP/1.1

```

```
metadata:
annotations:
prometheus.io/port: "4434"
prometheus.io/path: "/metrics/prometheus"
```

#### Responses

<a
  id="get-snapshot-metrics-from-the-hydra-service.-if-you're-using-k8s,-you-can-then-add-annotations-to
your-deployment-like-so:-responses"
></a>

##### Overview

| Status | Meaning                                                 | Description                                                                                                                   | Schema |
| ------ | ------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------ |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None   |

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /metrics/prometheus

```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/metrics/prometheus", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

fetch('/metrics/prometheus', {
  method: 'GET'
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/metrics/prometheus");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

r = requests.get(
  '/metrics/prometheus',
  params={)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

result = RestClient.get '/metrics/prometheus',
  params: {}

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdcreateRecoveryLink"></a>

### Create a Recovery Link

```
POST /recovery/link HTTP/1.1
Content-Type: application/json
Accept: application/json

```

This endpoint creates a recovery link which should be given to the user in order
for them to recover (or activate) their account.

#### Request body

```json
{
  "expires_in": "string",
  "identity_id": "string"
}
```

<a id="create-a-recovery-link-parameters"></a>

#### Parameters

| Parameter | In   | Type                                            | Required | Description |
| --------- | ---- | ----------------------------------------------- | -------- | ----------- |
| body      | body | [CreateRecoveryLink](#schemacreaterecoverylink) | false    | none        |

#### Responses

<a id="create-a-recovery-link-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | recoveryLink | [recoveryLink](#schemarecoverylink) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError | [genericError](#schemagenericerror) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "expires_at": "2019-08-24T14:15:22Z",
  "recovery_link": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /recovery/link \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/recovery/link", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "expires_in": "string",
  "identity_id": "string"
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/recovery/link', {
  method: 'POST',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/recovery/link");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/recovery/link',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/recovery/link',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-kratos-public-endpoints"></a>

## Public Endpoints

<a id="opIdgetSchema"></a>

### getSchema

```
GET /schemas/{id} HTTP/1.1
Accept: application/json

```

Get a Traits Schema Definition

<a id="getschema-parameters"></a>

#### Parameters

| Parameter | In   | Type   | Required | Description                                        |
| --------- | ---- | ------ | -------- | -------------------------------------------------- |
| id        | path | string | true     | ID must be set to the ID of schema you want to get |

#### Responses

<a id="getschema-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | jsonSchema   | [jsonSchema](#schemajsonschema)     |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /schemas/{id} \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/schemas/{id}", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/schemas/{id}', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/schemas/{id}");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/schemas/{id}',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/schemas/{id}',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceBrowserLogoutFlow"></a>

### Initialize Browser-Based Logout User Flow

```
GET /self-service/browser/flows/logout HTTP/1.1
Accept: application/json

```

This endpoint initializes a logout flow.

> This endpoint is NOT INTENDED for API clients and only works with browsers
> (Chrome, Firefox, ...).

On successful logout, the browser will be redirected (HTTP 302 Found) to the
`return_to` parameter of the initial request or fall back to
`urls.default_return_to`.

More information can be found at
[Ory Kratos User Logout Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-logout).

#### Responses

<a id="initialize-browser-based-logout-user-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/browser/flows/logout \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/browser/flows/logout", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/browser/flows/logout', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/browser/flows/logout");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/browser/flows/logout',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/browser/flows/logout',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceError"></a>

### Get User-Facing Self-Service Errors

```
GET /self-service/errors?error=string HTTP/1.1
Accept: application/json

```

This endpoint returns the error associated with a user-facing self service
errors.

This endpoint supports stub values to help you implement the error UI:

`?error=stub:500` - returns a stub 500 (Internal Server Error) error.

More information can be found at
[Ory Kratos User User Facing Error Documentation](https://www.ory.sh/docs/kratos/self-service/flows/user-facing-errors).

<a id="get-user-facing-self-service-errors-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description                 |
| --------- | ----- | ------ | -------- | --------------------------- |
| error     | query | string | true     | Error is the container's ID |

#### Responses

<a id="get-user-facing-self-service-errors-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                | Schema                                  |
| ------ | -------------------------------------------------------------------------- | -------------------------- | --------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | User-facing error response | [errorContainer](#schemaerrorcontainer) |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError               | [genericError](#schemagenericerror)     |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError               | [genericError](#schemagenericerror)     |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError               | [genericError](#schemagenericerror)     |

##### Examples

###### 200 response

```json
{
  "errors": {},
  "id": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/errors?error=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/errors", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/errors?error=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/errors?error=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/errors',
  params={
    'error': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/errors',
  params: {
    'error' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceLoginFlow"></a>

### Submit a Login Flow

```
POST /self-service/login?flow=string HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a login flow. This endpoint behaves differently
for API and browser flows.

API flows expect `application/json` to be sent in the body and responds with
HTTP 200 and a application/json body with the session token on success; HTTP 302
redirect to a fresh login flow if the original flow expired with the appropriate
error messages set; HTTP 400 on form validation errors.

Browser flows expect `application/x-www-form-urlencoded` to be sent in the body
and responds with a HTTP 302 redirect to the post/after login URL or the
`return_to` value if it was set and if the login succeeded; a HTTP 302 redirect
to the login UI URL with the flow ID containing the validation errors otherwise.

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

#### Request body

```json
{}
```

```yaml
{}
```

<a id="submit-a-login-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                            | Required | Description       |
| --------- | ----- | --------------------------------------------------------------- | -------- | ----------------- |
| flow      | query | string                                                          | true     | The Login Flow ID |
| body      | body  | [submitSelfServiceLoginFlow](#schemasubmitselfserviceloginflow) | false    | none              |

##### Detailed descriptions

**flow**: The Login Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/login?flow=abcde`).

#### Responses

<a id="submit-a-login-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                                            |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | loginViaApiResponse                                                                                                           | [loginViaApiResponse](#schemaloginviaapiresponse) |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                              |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | loginFlow                                                                                                                     | [loginFlow](#schemaloginflow)                     |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror)               |

##### Examples

###### 200 response

```json
{
  "session": {
    "active": true,
    "authenticated_at": "2019-08-24T14:15:22Z",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z"
  },
  "session_token": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/login?flow=string \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/login", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')
const input = '{}'
const headers = {
  'Content-Type': 'application/json',
  Accept: 'application/json'
}

fetch('/self-service/login?flow=string', {
  method: 'POST',
  body: input,
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/login?flow=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/self-service/login',
  params={
    'flow': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/self-service/login',
  params: {
    'flow' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceLoginViaAPIFlow"></a>

### Initialize Login Flow for API clients

```
GET /self-service/login/api HTTP/1.1
Accept: application/json

```

This endpoint initiates a login flow for API clients such as mobile devices,
smart TVs, and so on.

If a valid provided session cookie or session token is provided, a 400 Bad
Request error will be returned unless the URL query parameter `?refresh=true` is
set.

To fetch an existing login flow call `/self-service/login/flows?flow=<flow_id>`.

:::warning

You MUST NOT use this endpoint in client-side (Single Page Apps, ReactJS,
AngularJS) nor server-side (Java Server Pages, NodeJS, PHP, Golang, ...) browser
applications. Using this endpoint in these applications will make you vulnerable
to a variety of CSRF attacks, including CSRF login attacks.

This endpoint MUST ONLY be used in scenarios such as native mobile apps (React
Native, Objective C, Swift, Java, ...).

:::

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

<a id="initialize-login-flow-for-api-clients-parameters"></a>

#### Parameters

| Parameter | In    | Type    | Required | Description             |
| --------- | ----- | ------- | -------- | ----------------------- |
| refresh   | query | boolean | false    | Refresh a login session |

##### Detailed descriptions

**refresh**: Refresh a login session

If set to true, this will refresh an existing login session by asking the user
to sign in again. This will reset the authenticated_at time of the session.

#### Responses

<a id="initialize-login-flow-for-api-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | loginFlow    | [loginFlow](#schemaloginflow)       |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "forced": true,
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/login/api \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/login/api", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/login/api', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/login/api");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/login/api',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/login/api',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceLoginViaBrowserFlow"></a>

### Initialize Login Flow for browsers

```
GET /self-service/login/browser HTTP/1.1
Accept: application/json

```

This endpoint initializes a browser-based user login flow. Once initialized, the
browser will be redirected to `selfservice.flows.login.ui_url` with the flow ID
set as the query parameter `?flow=`. If a valid user session exists already, the
browser will be redirected to `urls.default_redirect_url` unless the query
parameter `?refresh=true` was set.

This endpoint is NOT INTENDED for API clients and only works with browsers
(Chrome, Firefox, ...).

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

#### Responses

<a id="initialize-login-flow-for-browsers-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/login/browser \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/login/browser", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/login/browser', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/login/browser");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/login/browser',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/login/browser',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceLoginFlow"></a>

### Get Login Flow

```
GET /self-service/login/flows?id=string HTTP/1.1
Accept: application/json

```

This endpoint returns a login flow's context with, for example, error details
and other information.

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

<a id="get-login-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description       |
| --------- | ----- | ------ | -------- | ----------------- |
| id        | query | string | true     | The Login Flow ID |

##### Detailed descriptions

**id**: The Login Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/login?flow=abcde`).

#### Responses

<a id="get-login-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | loginFlow    | [loginFlow](#schemaloginflow)       |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError | [genericError](#schemagenericerror) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError | [genericError](#schemagenericerror) |
| 410    | [Gone](https://tools.ietf.org/html/rfc7231#section-6.5.9)                  | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "forced": true,
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/login/flows?id=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/login/flows", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/login/flows?id=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/login/flows?id=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/login/flows',
  params={
    'id': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/login/flows',
  params: {
    'id' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceRecoveryFlow"></a>

### Complete Recovery Flow

```
POST /self-service/recovery?flow=string HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a recovery flow. This endpoint behaves differently
for API and browser flows and has several states:

`choose_method` expects `flow` (in the URL query) and `email` (in the body) to
be sent and works with API- and Browser-initiated flows. For API clients it
either returns a HTTP 200 OK when the form is valid and HTTP 400 OK when the
form is invalid and a HTTP 302 Found redirect with a fresh recovery flow if the
flow was otherwise invalid (e.g. expired). For Browser clients it returns a HTTP
302 Found redirect to the Recovery UI URL with the Recovery Flow ID appended.
`sent_email` is the success state after `choose_method` for the `link` method
and allows the user to request another recovery email. It works for both API and
Browser-initiated flows and returns the same responses as the flow in
`choose_method` state. `passed_challenge` expects a `token` to be sent in the
URL query and given the nature of the flow ("sending a recovery link") does not
have any API capabilities. The server responds with a HTTP 302 Found redirect
either to the Settings UI URL (if the link was valid) and instructs the user to
update their password, or a redirect to the Recover UI URL with a new Recovery
Flow ID which contains an error message that the recovery link was invalid.

More information can be found at
[Ory Kratos Account Recovery Documentation](../self-service/flows/account-recovery.mdx).

#### Request body

```json
{}
```

```yaml
{}
```

<a id="complete-recovery-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                                  | Required | Description              |
| --------- | ----- | --------------------------------------------------------------------- | -------- | ------------------------ |
| flow      | query | string                                                                | true     | The Registration Flow ID |
| body      | body  | [submitSelfServiceRecoveryFlow](#schemasubmitselfservicerecoveryflow) | false    | none                     |

##### Detailed descriptions

**flow**: The Registration Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/registration?flow=abcde`).

#### Responses

<a id="complete-recovery-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | recoveryFlow                                                                                                                  | [recoveryFlow](#schemarecoveryflow) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 400 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/recovery?flow=string \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/recovery", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')
const input = '{}'
const headers = {
  'Content-Type': 'application/json',
  Accept: 'application/json'
}

fetch('/self-service/recovery?flow=string', {
  method: 'POST',
  body: input,
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/recovery?flow=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/self-service/recovery',
  params={
    'flow': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/self-service/recovery',
  params: {
    'flow' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceRecoveryViaAPIFlow"></a>

### Initialize Recovery Flow for API Clients

```
GET /self-service/recovery/api HTTP/1.1
Accept: application/json

```

This endpoint initiates a recovery flow for API clients such as mobile devices,
smart TVs, and so on.

If a valid provided session cookie or session token is provided, a 400 Bad
Request error.

To fetch an existing recovery flow call
`/self-service/recovery/flows?flow=<flow_id>`.

:::warning

You MUST NOT use this endpoint in client-side (Single Page Apps, ReactJS,
AngularJS) nor server-side (Java Server Pages, NodeJS, PHP, Golang, ...) browser
applications. Using this endpoint in these applications will make you vulnerable
to a variety of CSRF attacks.

This endpoint MUST ONLY be used in scenarios such as native mobile apps (React
Native, Objective C, Swift, Java, ...).

:::

More information can be found at
[Ory Kratos Account Recovery Documentation](../self-service/flows/account-recovery.mdx).

#### Responses

<a id="initialize-recovery-flow-for-api-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | recoveryFlow | [recoveryFlow](#schemarecoveryflow) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/recovery/api \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/recovery/api", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/recovery/api', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/recovery/api");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/recovery/api',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/recovery/api',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceRecoveryViaBrowserFlow"></a>

### Initialize Recovery Flow for Browser Clients

```
GET /self-service/recovery/browser HTTP/1.1
Accept: application/json

```

This endpoint initializes a browser-based account recovery flow. Once
initialized, the browser will be redirected to
`selfservice.flows.recovery.ui_url` with the flow ID set as the query parameter
`?flow=`. If a valid user session exists, the browser is returned to the
configured return URL.

This endpoint is NOT INTENDED for API clients and only works with browsers
(Chrome, Firefox, ...).

More information can be found at
[Ory Kratos Account Recovery Documentation](../self-service/flows/account-recovery.mdx).

#### Responses

<a id="initialize-recovery-flow-for-browser-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/recovery/browser \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/recovery/browser", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/recovery/browser', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/recovery/browser");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/recovery/browser',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/recovery/browser',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceRecoveryFlow"></a>

### Get information about a recovery flow

```
GET /self-service/recovery/flows?id=string HTTP/1.1
Accept: application/json

```

This endpoint returns a recovery flow's context with, for example, error details
and other information.

More information can be found at
[Ory Kratos Account Recovery Documentation](../self-service/flows/account-recovery.mdx).

<a id="get-information-about-a-recovery-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description |
| --------- | ----- | ------ | -------- | ----------- |
| id        | query | string | true     | The Flow ID |

##### Detailed descriptions

**id**: The Flow ID

The value for this parameter comes from `request` URL Query parameter sent to
your application (e.g. `/recovery?flow=abcde`).

#### Responses

<a id="get-information-about-a-recovery-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | recoveryFlow | [recoveryFlow](#schemarecoveryflow) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError | [genericError](#schemagenericerror) |
| 410    | [Gone](https://tools.ietf.org/html/rfc7231#section-6.5.9)                  | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/recovery/flows?id=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/recovery/flows", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/recovery/flows?id=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/recovery/flows?id=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/recovery/flows',
  params={
    'id': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/recovery/flows',
  params: {
    'id' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceRecoveryFlowWithLinkMethod"></a>

### Complete Recovery Flow with Link Method

```
POST /self-service/recovery/methods/link HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a recovery flow using the link method. This
endpoint behaves differently for API and browser flows and has several states:

`choose_method` expects `flow` (in the URL query) and `email` (in the body) to
be sent and works with API- and Browser-initiated flows. For API clients it
either returns a HTTP 200 OK when the form is valid and HTTP 400 OK when the
form is invalid and a HTTP 302 Found redirect with a fresh recovery flow if the
flow was otherwise invalid (e.g. expired). For Browser clients it returns a HTTP
302 Found redirect to the Recovery UI URL with the Recovery Flow ID appended.
`sent_email` is the success state after `choose_method` and allows the user to
request another recovery email. It works for both API and Browser-initiated
flows and returns the same responses as the flow in `choose_method` state.
`passed_challenge` expects a `token` to be sent in the URL query and given the
nature of the flow ("sending a recovery link") does not have any API
capabilities. The server responds with a HTTP 302 Found redirect either to the
Settings UI URL (if the link was valid) and instructs the user to update their
password, or a redirect to the Recover UI URL with a new Recovery Flow ID which
contains an error message that the recovery link was invalid.

More information can be found at
[Ory Kratos Account Recovery Documentation](../self-service/flows/account-recovery.mdx).

#### Request body

```json
{
  "csrf_token": "string",
  "email": "string"
}
```

```yaml
csrf_token: string
email: string
```

<a id="complete-recovery-flow-with-link-method-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                                                              | Required | Description    |
| --------- | ----- | ------------------------------------------------------------------------------------------------- | -------- | -------------- |
| token     | query | string                                                                                            | false    | Recovery Token |
| flow      | query | string                                                                                            | false    | The Flow ID    |
| body      | body  | [submitSelfServiceRecoveryFlowWithLinkMethod](#schemasubmitselfservicerecoveryflowwithlinkmethod) | false    | none           |

##### Detailed descriptions

**token**: Recovery Token

The recovery token which completes the recovery request. If the token is invalid
(e.g. expired) an error will be shown to the end-user.

**flow**: The Flow ID

format: uuid

#### Responses

<a id="complete-recovery-flow-with-link-method-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | recoveryFlow                                                                                                                  | [recoveryFlow](#schemarecoveryflow) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 400 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/recovery/methods/link \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/recovery/methods/link", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "csrf_token": "string",
  "email": "string"
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/self-service/recovery/methods/link', {
  method: 'POST',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/recovery/methods/link");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/self-service/recovery/methods/link',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/self-service/recovery/methods/link',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceRegistrationFlow"></a>

### Submit a Registration Flow

```
POST /self-service/registration?flow=string HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a registration flow by sending an identity's
traits and password. This endpoint behaves differently for API and browser
flows.

API flows expect `application/json` to be sent in the body and respond with HTTP
200 and a application/json body with the created identity success - if the
session hook is configured the `session` and `session_token` will also be
included; HTTP 302 redirect to a fresh registration flow if the original flow
expired with the appropriate error messages set; HTTP 400 on form validation
errors.

Browser flows expect `application/x-www-form-urlencoded` to be sent in the body
and responds with a HTTP 302 redirect to the post/after registration URL or the
`return_to` value if it was set and if the registration succeeded; a HTTP 302
redirect to the registration UI URL with the flow ID containing the validation
errors otherwise.

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

#### Request body

```json
{}
```

```yaml
{}
```

<a id="submit-a-registration-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                                          | Required | Description              |
| --------- | ----- | ----------------------------------------------------------------------------- | -------- | ------------------------ |
| flow      | query | string                                                                        | true     | The Registration Flow ID |
| body      | body  | [submitSelfServiceRegistrationFlow](#schemasubmitselfserviceregistrationflow) | false    | none                     |

##### Detailed descriptions

**flow**: The Registration Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/registration?flow=abcde`).

#### Responses

<a id="submit-a-registration-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                                                          |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | registrationViaApiResponse                                                                                                    | [registrationViaApiResponse](#schemaregistrationviaapiresponse) |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                                            |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | registrationFlow                                                                                                              | [registrationFlow](#schemaregistrationflow)                     |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror)                             |

##### Examples

###### 200 response

```json
{
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "session": {
    "active": true,
    "authenticated_at": "2019-08-24T14:15:22Z",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z"
  },
  "session_token": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/registration?flow=string \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/registration", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')
const input = '{}'
const headers = {
  'Content-Type': 'application/json',
  Accept: 'application/json'
}

fetch('/self-service/registration?flow=string', {
  method: 'POST',
  body: input,
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/registration?flow=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/self-service/registration',
  params={
    'flow': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/self-service/registration',
  params: {
    'flow' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceRegistrationViaAPIFlow"></a>

### Initialize Registration Flow for API clients

```
GET /self-service/registration/api HTTP/1.1
Accept: application/json

```

This endpoint initiates a registration flow for API clients such as mobile
devices, smart TVs, and so on.

If a valid provided session cookie or session token is provided, a 400 Bad
Request error will be returned unless the URL query parameter `?refresh=true` is
set.

To fetch an existing registration flow call
`/self-service/registration/flows?flow=<flow_id>`.

:::warning

You MUST NOT use this endpoint in client-side (Single Page Apps, ReactJS,
AngularJS) nor server-side (Java Server Pages, NodeJS, PHP, Golang, ...) browser
applications. Using this endpoint in these applications will make you vulnerable
to a variety of CSRF attacks.

This endpoint MUST ONLY be used in scenarios such as native mobile apps (React
Native, Objective C, Swift, Java, ...).

:::

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

#### Responses

<a id="initialize-registration-flow-for-api-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description      | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ---------------- | ------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | registrationFlow | [registrationFlow](#schemaregistrationflow) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError     | [genericError](#schemagenericerror)         |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError     | [genericError](#schemagenericerror)         |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/registration/api \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/registration/api", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/registration/api', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/registration/api");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/registration/api',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/registration/api',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceRegistrationViaBrowserFlow"></a>

### Initialize Registration Flow for browsers

```
GET /self-service/registration/browser HTTP/1.1
Accept: application/json

```

This endpoint initializes a browser-based user registration flow. Once
initialized, the browser will be redirected to
`selfservice.flows.registration.ui_url` with the flow ID set as the query
parameter `?flow=`. If a valid user session exists already, the browser will be
redirected to `urls.default_redirect_url` unless the query parameter
`?refresh=true` was set.

:::note

This endpoint is NOT INTENDED for API clients and only works with browsers
(Chrome, Firefox, ...).

:::

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

#### Responses

<a id="initialize-registration-flow-for-browsers-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/registration/browser \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/registration/browser", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/registration/browser', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/registration/browser");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/registration/browser',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/registration/browser',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceRegistrationFlow"></a>

### Get Registration Flow

```
GET /self-service/registration/flows?id=string HTTP/1.1
Accept: application/json

```

This endpoint returns a registration flow's context with, for example, error
details and other information.

More information can be found at
[Ory Kratos User Login and User Registration Documentation](https://www.ory.sh/docs/next/kratos/self-service/flows/user-login-user-registration).

<a id="get-registration-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description              |
| --------- | ----- | ------ | -------- | ------------------------ |
| id        | query | string | true     | The Registration Flow ID |

##### Detailed descriptions

**id**: The Registration Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/registration?flow=abcde`).

#### Responses

<a id="get-registration-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description      | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ---------------- | ------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | registrationFlow | [registrationFlow](#schemaregistrationflow) |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError     | [genericError](#schemagenericerror)         |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError     | [genericError](#schemagenericerror)         |
| 410    | [Gone](https://tools.ietf.org/html/rfc7231#section-6.5.9)                  | genericError     | [genericError](#schemagenericerror)         |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError     | [genericError](#schemagenericerror)         |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/registration/flows?id=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/registration/flows", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/registration/flows?id=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/registration/flows?id=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/registration/flows',
  params={
    'id': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/registration/flows',
  params: {
    'id' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceSettingsFlow"></a>

### Complete Settings Flow

```
POST /self-service/settings?flow=string HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a settings flow by sending an identity's updated
password. This endpoint behaves differently for API and browser flows.

API-initiated flows expect `application/json` to be sent in the body and respond
with HTTP 200 and an application/json body with the session token on success;
HTTP 302 redirect to a fresh settings flow if the original flow expired with the
appropriate error messages set; HTTP 400 on form validation errors. HTTP 401
when the endpoint is called without a valid session token. HTTP 403 when
`selfservice.flows.settings.privileged_session_max_age` was reached. Implies
that the user needs to re-authenticate.

Browser flows expect `application/x-www-form-urlencoded` to be sent in the body
and responds with a HTTP 302 redirect to the post/after settings URL or the
`return_to` value if it was set and if the flow succeeded; a HTTP 302 redirect
to the Settings UI URL with the flow ID containing the validation errors
otherwise. a HTTP 302 redirect to the login endpoint when
`selfservice.flows.settings.privileged_session_max_age` was reached.

More information can be found at
[Ory Kratos User Settings & Profile Management Documentation](../self-service/flows/user-settings).

#### Request body

```json
{}
```

```yaml
{}
```

<a id="complete-settings-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                                  | Required | Description          |
| --------- | ----- | --------------------------------------------------------------------- | -------- | -------------------- |
| flow      | query | string                                                                | true     | The Settings Flow ID |
| body      | body  | [submitSelfServiceSettingsFlow](#schemasubmitselfservicesettingsflow) | false    | none                 |

##### Detailed descriptions

**flow**: The Settings Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/settings?flow=abcde`).

#### Responses

<a id="complete-settings-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                                                  |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | settingsViaApiResponse                                                                                                        | [settingsViaApiResponse](#schemasettingsviaapiresponse) |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                                    |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | settingsFlow                                                                                                                  | [settingsFlow](#schemasettingsflow)                     |
| 401    | [Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)            | genericError                                                                                                                  | [genericError](#schemagenericerror)                     |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError                                                                                                                  | [genericError](#schemagenericerror)                     |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror)                     |

##### Examples

###### 200 response

```json
{
  "flow": {
    "active": "string",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z",
    "request_url": "string",
    "state": "string",
    "type": "string",
    "ui": {
      "action": "string",
      "messages": [
        {
          "context": {},
          "id": 0,
          "text": "string",
          "type": "string"
        }
      ],
      "method": "string",
      "nodes": [
        {
          "attributes": {},
          "group": "string",
          "messages": [
            {
              "context": {},
              "id": 0,
              "text": "string",
              "type": "string"
            }
          ],
          "meta": {
            "label": {
              "context": {},
              "id": 0,
              "text": "string",
              "type": "string"
            }
          },
          "type": "string"
        }
      ]
    }
  },
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  }
}
```

<aside class="warning">
  To perform this operation, you must be authenticated by means of one of the
  following methods: sessionToken
</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/settings?flow=string \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json' \  -H 'X-Session-Token: API_KEY'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
        "X-Session-Token": []string{"API_KEY"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/settings", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')
const input = '{}'
const headers = {
  'Content-Type': 'application/json',
  Accept: 'application/json',
  'X-Session-Token': 'API_KEY'
}

fetch('/self-service/settings?flow=string', {
  method: 'POST',
  body: input,
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/settings?flow=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'X-Session-Token': 'API_KEY'
}

r = requests.post(
  '/self-service/settings',
  params={
    'flow': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json',
  'X-Session-Token' => 'API_KEY'
}

result = RestClient.post '/self-service/settings',
  params: {
    'flow' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceSettingsViaAPIFlow"></a>

### Initialize Settings Flow for API Clients

```
GET /self-service/settings/api HTTP/1.1
Accept: application/json

```

This endpoint initiates a settings flow for API clients such as mobile devices,
smart TVs, and so on. You must provide a valid Ory Kratos Session Token for this
endpoint to respond with HTTP 200 OK.

To fetch an existing settings flow call
`/self-service/settings/flows?flow=<flow_id>`.

:::warning

You MUST NOT use this endpoint in client-side (Single Page Apps, ReactJS,
AngularJS) nor server-side (Java Server Pages, NodeJS, PHP, Golang, ...) browser
applications. Using this endpoint in these applications will make you vulnerable
to a variety of CSRF attacks.

This endpoint MUST ONLY be used in scenarios such as native mobile apps (React
Native, Objective C, Swift, Java, ...).

:::

More information can be found at
[Ory Kratos User Settings & Profile Management Documentation](../self-service/flows/user-settings).

#### Responses

<a id="initialize-settings-flow-for-api-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | settingsFlow | [settingsFlow](#schemasettingsflow) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="warning">
  To perform this operation, you must be authenticated by means of one of the
  following methods: sessionToken
</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/settings/api \
  -H 'Accept: application/json' \  -H 'X-Session-Token: API_KEY'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
        "X-Session-Token": []string{"API_KEY"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/settings/api", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json',
  'X-Session-Token': 'API_KEY'
}

fetch('/self-service/settings/api', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/settings/api");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json',
  'X-Session-Token': 'API_KEY'
}

r = requests.get(
  '/self-service/settings/api',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Session-Token' => 'API_KEY'
}

result = RestClient.get '/self-service/settings/api',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceSettingsViaBrowserFlow"></a>

### Initialize Settings Flow for Browsers

```
GET /self-service/settings/browser HTTP/1.1
Accept: application/json

```

This endpoint initializes a browser-based user settings flow. Once initialized,
the browser will be redirected to `selfservice.flows.settings.ui_url` with the
flow ID set as the query parameter `?flow=`. If no valid Ory Kratos Session
Cookie is included in the request, a login flow will be initialized.

:::note

This endpoint is NOT INTENDED for API clients and only works with browsers
(Chrome, Firefox, ...).

:::

More information can be found at
[Ory Kratos User Settings & Profile Management Documentation](../self-service/flows/user-settings).

#### Responses

<a id="initialize-settings-flow-for-browsers-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="warning">
  To perform this operation, you must be authenticated by means of one of the
  following methods: sessionToken
</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/settings/browser \
  -H 'Accept: application/json' \  -H 'X-Session-Token: API_KEY'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
        "X-Session-Token": []string{"API_KEY"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/settings/browser", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json',
  'X-Session-Token': 'API_KEY'
}

fetch('/self-service/settings/browser', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/settings/browser");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json',
  'X-Session-Token': 'API_KEY'
}

r = requests.get(
  '/self-service/settings/browser',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Session-Token' => 'API_KEY'
}

result = RestClient.get '/self-service/settings/browser',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceSettingsFlow"></a>

### Get Settings Flow

```
GET /self-service/settings/flows?id=string HTTP/1.1
Accept: application/json

```

When accessing this endpoint through Ory Kratos' Public API you must ensure that
either the Ory Kratos Session Cookie or the Ory Kratos Session Token are set.
The public endpoint does not return 404 status codes but instead 403 or 500 to
improve data privacy.

You can access this endpoint without credentials when using Ory Kratos' Admin
API.

More information can be found at
[Ory Kratos User Settings & Profile Management Documentation](../self-service/flows/user-settings).

<a id="get-settings-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description                |
| --------- | ----- | ------ | -------- | -------------------------- |
| id        | query | string | true     | ID is the Settings Flow ID |

##### Detailed descriptions

**id**: ID is the Settings Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/settings?flow=abcde`).

#### Responses

<a id="get-settings-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | settingsFlow | [settingsFlow](#schemasettingsflow) |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError | [genericError](#schemagenericerror) |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError | [genericError](#schemagenericerror) |
| 410    | [Gone](https://tools.ietf.org/html/rfc7231#section-6.5.9)                  | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="warning">
  To perform this operation, you must be authenticated by means of one of the
  following methods: sessionToken
</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/settings/flows?id=string \
  -H 'Accept: application/json' \  -H 'X-Session-Token: API_KEY'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
        "X-Session-Token": []string{"API_KEY"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/settings/flows", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json',
  'X-Session-Token': 'API_KEY'
}

fetch('/self-service/settings/flows?id=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/settings/flows?id=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json',
  'X-Session-Token': 'API_KEY'
}

r = requests.get(
  '/self-service/settings/flows',
  params={
    'id': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Session-Token' => 'API_KEY'
}

result = RestClient.get '/self-service/settings/flows',
  params: {
    'id' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceVerificationViaAPIFlow"></a>

### Initialize Verification Flow for API Clients

```
GET /self-service/verification/api HTTP/1.1
Accept: application/json

```

This endpoint initiates a verification flow for API clients such as mobile
devices, smart TVs, and so on.

To fetch an existing verification flow call
`/self-service/verification/flows?flow=<flow_id>`.

:::warning

You MUST NOT use this endpoint in client-side (Single Page Apps, ReactJS,
AngularJS) nor server-side (Java Server Pages, NodeJS, PHP, Golang, ...) browser
applications. Using this endpoint in these applications will make you vulnerable
to a variety of CSRF attacks.

This endpoint MUST ONLY be used in scenarios such as native mobile apps (React
Native, Objective C, Swift, Java, ...).

:::

More information can be found at
[Ory Kratos Email and Phone Verification Documentation](https://www.ory.sh/docs/kratos/selfservice/flows/verify-email-account-activation).

#### Responses

<a id="initialize-verification-flow-for-api-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description      | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ---------------- | ------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | verificationFlow | [verificationFlow](#schemaverificationflow) |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError     | [genericError](#schemagenericerror)         |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError     | [genericError](#schemagenericerror)         |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/verification/api \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/verification/api", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/verification/api', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/verification/api");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/verification/api',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/verification/api',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdinitializeSelfServiceVerificationViaBrowserFlow"></a>

### Initialize Verification Flow for Browser Clients

```
GET /self-service/verification/browser HTTP/1.1
Accept: application/json

```

This endpoint initializes a browser-based account verification flow. Once
initialized, the browser will be redirected to
`selfservice.flows.verification.ui_url` with the flow ID set as the query
parameter `?flow=`.

This endpoint is NOT INTENDED for API clients and only works with browsers
(Chrome, Firefox, ...).

More information can be found at
[Ory Kratos Email and Phone Verification Documentation](https://www.ory.sh/docs/kratos/selfservice/flows/verify-email-account-activation).

#### Responses

<a id="initialize-verification-flow-for-browser-clients-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 500 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/verification/browser \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/verification/browser", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/verification/browser', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/verification/browser");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/verification/browser',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/verification/browser',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdgetSelfServiceVerificationFlow"></a>

### Get Verification Flow

```
GET /self-service/verification/flows?id=string HTTP/1.1
Accept: application/json

```

This endpoint returns a verification flow's context with, for example, error
details and other information.

More information can be found at
[Ory Kratos Email and Phone Verification Documentation](https://www.ory.sh/docs/kratos/selfservice/flows/verify-email-account-activation).

<a id="get-verification-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type   | Required | Description |
| --------- | ----- | ------ | -------- | ----------- |
| id        | query | string | true     | The Flow ID |

##### Detailed descriptions

**id**: The Flow ID

The value for this parameter comes from `request` URL Query parameter sent to
your application (e.g. `/verification?flow=abcde`).

#### Responses

<a id="get-verification-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description      | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ---------------- | ------------------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | verificationFlow | [verificationFlow](#schemaverificationflow) |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)             | genericError     | [genericError](#schemagenericerror)         |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)             | genericError     | [genericError](#schemagenericerror)         |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError     | [genericError](#schemagenericerror)         |

##### Examples

###### 200 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /self-service/verification/flows?id=string \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/self-service/verification/flows", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/self-service/verification/flows?id=string', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/verification/flows?id=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/self-service/verification/flows',
  params={
    'id': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/self-service/verification/flows',
  params: {
    'id' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdsubmitSelfServiceVerificationFlow"></a>

### Complete Verification Flow

```
POST /self-service/verification/methods/link?flow=string HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to complete a verification flow. This endpoint behaves
differently for API and browser flows and has several states:

`choose_method` expects `flow` (in the URL query) and `email` (in the body) to
be sent and works with API- and Browser-initiated flows. For API clients it
either returns a HTTP 200 OK when the form is valid and HTTP 400 OK when the
form is invalid and a HTTP 302 Found redirect with a fresh verification flow if
the flow was otherwise invalid (e.g. expired). For Browser clients it returns a
HTTP 302 Found redirect to the Verification UI URL with the Verification Flow ID
appended. `sent_email` is the success state after `choose_method` when using the
`link` method and allows the user to request another verification email. It
works for both API and Browser-initiated flows and returns the same responses as
the flow in `choose_method` state. `passed_challenge` expects a `token` to be
sent in the URL query and given the nature of the flow ("sending a verification
link") does not have any API capabilities. The server responds with a HTTP 302
Found redirect either to the Settings UI URL (if the link was valid) and
instructs the user to update their password, or a redirect to the Verification
UI URL with a new Verification Flow ID which contains an error message that the
verification link was invalid.

More information can be found at
[Ory Kratos Email and Phone Verification Documentation](https://www.ory.sh/docs/kratos/selfservice/flows/verify-email-account-activation).

#### Request body

```json
{}
```

```yaml
{}
```

<a id="complete-verification-flow-parameters"></a>

#### Parameters

| Parameter | In    | Type                                                                  | Required | Description              |
| --------- | ----- | --------------------------------------------------------------------- | -------- | ------------------------ |
| flow      | query | string                                                                | true     | The Registration Flow ID |
| body      | body  | [submitSelfServiceRecoveryFlow](#schemasubmitselfservicerecoveryflow) | false    | none                     |

##### Detailed descriptions

**flow**: The Registration Flow ID

The value for this parameter comes from `flow` URL Query parameter sent to your
application (e.g. `/registration?flow=abcde`).

#### Responses

<a id="complete-verification-flow-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                                      |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| 302    | [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)                 | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                        |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | verificationFlow                                                                                                              | [verificationFlow](#schemaverificationflow) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror)         |

##### Examples

###### 400 response

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X POST /self-service/verification/methods/link?flow=string \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("POST", "/self-service/verification/methods/link", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')
const input = '{}'
const headers = {
  'Content-Type': 'application/json',
  Accept: 'application/json'
}

fetch('/self-service/verification/methods/link?flow=string', {
  method: 'POST',
  body: input,
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/self-service/verification/methods/link?flow=string");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.post(
  '/self-service/verification/methods/link',
  params={
    'flow': 'string'},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.post '/self-service/verification/methods/link',
  params: {
    'flow' => 'string'}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdrevokeSession"></a>

### Initialize Logout Flow for API Clients - Revoke a Session

```
DELETE /sessions HTTP/1.1
Content-Type: application/json
Accept: application/json

```

Use this endpoint to revoke a session using its token. This endpoint is
particularly useful for API clients such as mobile apps to log the user out of
the system and invalidate the session.

This endpoint does not remove any HTTP Cookies - use the Browser-Based
Self-Service Logout Flow instead.

#### Request body

```json
{
  "session_token": "string"
}
```

<a id="initialize-logout-flow-for-api-clients---revoke-a-session-parameters"></a>

#### Parameters

| Parameter | In   | Type                                  | Required | Description |
| --------- | ---- | ------------------------------------- | -------- | ----------- |
| body      | body | [revokeSession](#schemarevokesession) | true     | none        |

#### Responses

<a id="initialize-logout-flow-for-api-clients---revoke-a-session-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description                                                                                                                   | Schema                              |
| ------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| 204    | [No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)            | Empty responses are sent when, for example, resources are deleted. The HTTP status code for empty responses is typically 201. | None                                |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)           | genericError                                                                                                                  | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError                                                                                                                  | [genericError](#schemagenericerror) |

##### Examples

###### 400 response

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X DELETE /sessions \
  -H 'Content-Type: application/json' \  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Content-Type": []string{"application/json"},
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("DELETE", "/sessions", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch');
const input = '{
  "session_token": "string"
}';
const headers = {
  'Content-Type': 'application/json',  'Accept': 'application/json'
}

fetch('/sessions', {
  method: 'DELETE',
  body: input,
  headers
})
.then(r => r.json())
.then((body) => {
    console.log(body)
})
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/sessions");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("DELETE");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}

r = requests.delete(
  '/sessions',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json'
}

result = RestClient.delete '/sessions',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="opIdwhoami"></a>

### Check Who the Current HTTP Session Belongs To

```
GET /sessions/whoami HTTP/1.1
Accept: application/json
Cookie: string
Authorization: string

```

Uses the HTTP Headers in the GET request to determine (e.g. by using checking
the cookies) who is authenticated. Returns a session object in the body or 401
if the credentials are invalid or no credentials were sent. Additionally when
the request it successful it adds the user ID to the
'X-Kratos-Authenticated-Identity-Id' header in the response.

This endpoint is useful for reverse proxies and API Gateways.

<a id="check-who-the-current-http-session-belongs-to-parameters"></a>

#### Parameters

| Parameter     | In     | Type   | Required | Description |
| ------------- | ------ | ------ | -------- | ----------- |
| Cookie        | header | string | false    | none        |
| Authorization | header | string | false    | none        |

#### Responses

<a id="check-who-the-current-http-session-belongs-to-responses"></a>

##### Overview

| Status | Meaning                                                                    | Description  | Schema                              |
| ------ | -------------------------------------------------------------------------- | ------------ | ----------------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)                    | session      | [session](#schemasession)           |
| 401    | [Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)            | genericError | [genericError](#schemagenericerror) |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | genericError | [genericError](#schemagenericerror) |

##### Examples

###### 200 response

```json
{
  "active": true,
  "authenticated_at": "2019-08-24T14:15:22Z",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "issued_at": "2019-08-24T14:15:22Z"
}
```

<aside class="warning">
  To perform this operation, you must be authenticated by means of one of the
  following methods: sessionToken
</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /sessions/whoami \
  -H 'Accept: application/json' \  -H 'Cookie: string' \  -H 'Authorization: string' \  -H 'X-Session-Token: API_KEY'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
        "Cookie": []string{"string"},
        "Authorization": []string{"string"},
        "X-Session-Token": []string{"API_KEY"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/sessions/whoami", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json',
  Cookie: 'string',
  Authorization: 'string',
  'X-Session-Token': 'API_KEY'
}

fetch('/sessions/whoami', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/sessions/whoami");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json',
  'Cookie': 'string',
  'Authorization': 'string',
  'X-Session-Token': 'API_KEY'
}

r = requests.get(
  '/sessions/whoami',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'Cookie' => 'string',
  'Authorization' => 'string',
  'X-Session-Token' => 'API_KEY'
}

result = RestClient.get '/sessions/whoami',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

<a id="ory-kratos-version"></a>

## version

<a id="opIdgetVersion"></a>

### Get service version

```
GET /version HTTP/1.1
Accept: application/json

```

This endpoint returns the service version typically notated using semantic
versioning.

If the service supports TLS Edge Termination, this endpoint does not require the
`X-Forwarded-Proto` header to be set.

Be aware that if you are running multiple nodes of this service, the health
status will never refer to the cluster state, only to a single instance.

#### Responses

<a id="get-service-version-responses"></a>

##### Overview

| Status | Meaning                                                 | Description | Schema                    |
| ------ | ------------------------------------------------------- | ----------- | ------------------------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | version     | [version](#schemaversion) |

##### Examples

###### 200 response

```json
{
  "version": "string"
}
```

<aside class="success">This operation does not require authentication</aside>

#### Code samples

<Tabs groupId="code-samples" defaultValue="shell"
  values={[{label: 'Shell', value: 'shell'}, {label: 'Go', value: 'go'}, {label: 'Node', value: 'node'},
    {label: 'Java', value: 'java'}, {label: 'Python', value: 'python'}, {label: 'Ruby', value: 'ruby'}]}>
<TabItem value="shell">

```shell
curl -X GET /version \
  -H 'Accept: application/json'
```

</TabItem>
<TabItem value="go">

```go
package main

import (
    "bytes"
    "net/http"
)

func main() {
    headers := map[string][]string{
        "Accept": []string{"application/json"},
    }

    var body []byte
    // body = ...

    req, err := http.NewRequest("GET", "/version", bytes.NewBuffer(body))
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}
```

</TabItem>
<TabItem value="node">

```javascript
const fetch = require('node-fetch')

const headers = {
  Accept: 'application/json'
}

fetch('/version', {
  method: 'GET',
  headers
})
  .then((r) => r.json())
  .then((body) => {
    console.log(body)
  })
```

</TabItem>
<TabItem value="java">

```java
// This sample needs improvement.
URL obj = new URL("/version");

HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");

int responseCode = con.getResponseCode();

BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream())
);

String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();

System.out.println(response.toString());
```

</TabItem>
<TabItem value="python">

```python
import requests

headers = {
  'Accept': 'application/json'
}

r = requests.get(
  '/version',
  params={},
  headers = headers)

print r.json()
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json'
}

result = RestClient.get '/version',
  params: {}, headers: headers

p JSON.parse(result)
```

</TabItem>
</Tabs>

## Schemas

<a id="tocScontainerwaitokbodyerror"></a>

#### ContainerWaitOKBodyError

<a id="schemacontainerwaitokbodyerror"></a>

```json
{
  "Message": "string"
}
```

_ContainerWaitOKBodyError container waiting error, if any_

#### Properties

| Name    | Type   | Required | Restrictions | Description         |
| ------- | ------ | -------- | ------------ | ------------------- |
| Message | string | false    | none         | Details of an error |

<a id="tocScreateidentity"></a>

#### CreateIdentity

<a id="schemacreateidentity"></a>

```json
{
  "schema_id": "string",
  "traits": {}
}
```

#### Properties

| Name      | Type   | Required | Restrictions | Description                                                                                                                                                                                                            |
| --------- | ------ | -------- | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| schema_id | string | true     | none         | SchemaID is the ID of the JSON Schema to be used for validating the identity's traits.                                                                                                                                 |
| traits    | object | true     | none         | Traits represent an identity's traits. The identity is able to create, modify, and delete traits<br/>in a self-service manner. The input will always be validated against the JSON Schema defined<br/>in `schema_url`. |

<a id="tocScreaterecoverylink"></a>

#### CreateRecoveryLink

<a id="schemacreaterecoverylink"></a>

```json
{
  "expires_in": "string",
  "identity_id": "string"
}
```

#### Properties

| Name        | Type                | Required | Restrictions | Description                                                                                                                                                             |
| ----------- | ------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expires_in  | string              | false    | none         | Link Expires In<br/><br/>The recovery link will expire at that point in time. Defaults to the configuration value of<br/>`selfservice.flows.recovery.request_lifespan`. |
| identity_id | [UUID](#schemauuid) | true     | none         | none                                                                                                                                                                    |

<a id="tocScredentialstype"></a>

#### CredentialsType

<a id="schemacredentialstype"></a>

```json
"string"
```

_CredentialsType represents several different credential types, like password
credentials, passwordless credentials,_

#### Properties

| Name                                                                                                                | Type   | Required | Restrictions | Description |
| ------------------------------------------------------------------------------------------------------------------- | ------ | -------- | ------------ | ----------- |
| CredentialsType represents several different credential types, like password credentials, passwordless credentials, | string | false    | none         | and so on.  |

<a id="tocSid"></a>

#### ID

<a id="schemaid"></a>

```json
0
```

#### Properties

| Name        | Type           | Required | Restrictions | Description |
| ----------- | -------------- | -------- | ------------ | ----------- |
| _anonymous_ | integer(int64) | false    | none         | none        |

<a id="tocSidentity"></a>

#### Identity

<a id="schemaidentity"></a>

```json
{
  "id": "string",
  "recovery_addresses": [
    {
      "id": "string",
      "value": "string",
      "via": "string"
    }
  ],
  "schema_id": "string",
  "schema_url": "string",
  "traits": {},
  "verifiable_addresses": [
    {
      "id": "string",
      "status": "string",
      "value": "string",
      "verified": true,
      "verified_at": "2019-08-24T14:15:22Z",
      "via": "string"
    }
  ]
}
```

#### Properties

| Name                 | Type                                            | Required | Restrictions | Description                                                                                                       |
| -------------------- | ----------------------------------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------- |
| id                   | [UUID](#schemauuid)                             | true     | none         | none                                                                                                              |
| recovery_addresses   | [[RecoveryAddress](#schemarecoveryaddress)]     | false    | none         | RecoveryAddresses contains all the addresses that can be used to recover an identity.                             |
| schema_id            | string                                          | true     | none         | SchemaID is the ID of the JSON Schema to be used for validating the identity's traits.                            |
| schema_url           | string                                          | true     | none         | SchemaURL is the URL of the endpoint where the identity's traits schema can be fetched from.<br/><br/>format: url |
| traits               | [Traits](#schematraits)                         | true     | none         | none                                                                                                              |
| verifiable_addresses | [[VerifiableAddress](#schemaverifiableaddress)] | false    | none         | VerifiableAddresses contains all the addresses that can be verified by the user.                                  |

<a id="tocSjsonrawmessage"></a>

#### JSONRawMessage

<a id="schemajsonrawmessage"></a>

```json
{}
```

_JSONRawMessage represents a json.RawMessage that works well with JSON, SQL, and
Swagger._

#### Properties

_None_

<a id="tocSmeta"></a>

#### Meta

<a id="schemameta"></a>

```json
{
  "label": {
    "context": {},
    "id": 0,
    "text": "string",
    "type": "string"
  }
}
```

_A Node's Meta Information_

#### Properties

| Name  | Type                    | Required | Restrictions | Description |
| ----- | ----------------------- | -------- | ------------ | ----------- |
| label | [uiText](#schemauitext) | false    | none         | none        |

<a id="tocSnulltime"></a>

#### NullTime

<a id="schemanulltime"></a>

```json
"2019-08-24T14:15:22Z"
```

_NullTime implements sql.NullTime functionality._

#### Properties

| Name                                            | Type              | Required | Restrictions | Description |
| ----------------------------------------------- | ----------------- | -------- | ------------ | ----------- |
| NullTime implements sql.NullTime functionality. | string(date-time) | false    | none         | none        |

<a id="tocSpluginconfig"></a>

#### PluginConfig

<a id="schemapluginconfig"></a>

```json
{
  "Args": {
    "Description": "string",
    "Name": "string",
    "Settable": ["string"],
    "Value": ["string"]
  },
  "Description": "string",
  "DockerVersion": "string",
  "Documentation": "string",
  "Entrypoint": ["string"],
  "Env": [
    {
      "Description": "string",
      "Name": "string",
      "Settable": ["string"],
      "Value": "string"
    }
  ],
  "Interface": {
    "Socket": "string",
    "Types": [
      {
        "Capability": "string",
        "Prefix": "string",
        "Version": "string"
      }
    ]
  },
  "IpcHost": true,
  "Linux": {
    "AllowAllDevices": true,
    "Capabilities": ["string"],
    "Devices": [
      {
        "Description": "string",
        "Name": "string",
        "Path": "string",
        "Settable": ["string"]
      }
    ]
  },
  "Mounts": [
    {
      "Description": "string",
      "Destination": "string",
      "Name": "string",
      "Options": ["string"],
      "Settable": ["string"],
      "Source": "string",
      "Type": "string"
    }
  ],
  "Network": {
    "Type": "string"
  },
  "PidHost": true,
  "PropagatedMount": "string",
  "User": {
    "GID": 0,
    "UID": 0
  },
  "WorkDir": "string",
  "rootfs": {
    "diff_ids": ["string"],
    "type": "string"
  }
}
```

_PluginConfig The config of a plugin._

#### Properties

| Name            | Type                                                  | Required | Restrictions | Description                                                       |
| --------------- | ----------------------------------------------------- | -------- | ------------ | ----------------------------------------------------------------- |
| Args            | [PluginConfigArgs](#schemapluginconfigargs)           | true     | none         | PluginConfigArgs plugin config args                               |
| Description     | string                                                | true     | none         | description                                                       |
| DockerVersion   | string                                                | false    | none         | Docker Version used to create the plugin                          |
| Documentation   | string                                                | true     | none         | documentation                                                     |
| Entrypoint      | [string]                                              | true     | none         | entrypoint                                                        |
| Env             | [[PluginEnv](#schemapluginenv)]                       | true     | none         | env                                                               |
| Interface       | [PluginConfigInterface](#schemapluginconfiginterface) | true     | none         | PluginConfigInterface The interface between Docker and the plugin |
| IpcHost         | boolean                                               | true     | none         | ipc host                                                          |
| Linux           | [PluginConfigLinux](#schemapluginconfiglinux)         | true     | none         | PluginConfigLinux plugin config linux                             |
| Mounts          | [[PluginMount](#schemapluginmount)]                   | true     | none         | mounts                                                            |
| Network         | [PluginConfigNetwork](#schemapluginconfignetwork)     | true     | none         | PluginConfigNetwork plugin config network                         |
| PidHost         | boolean                                               | true     | none         | pid host                                                          |
| PropagatedMount | string                                                | true     | none         | propagated mount                                                  |
| User            | [PluginConfigUser](#schemapluginconfiguser)           | false    | none         | PluginConfigUser plugin config user                               |
| WorkDir         | string                                                | true     | none         | work dir                                                          |
| rootfs          | [PluginConfigRootfs](#schemapluginconfigrootfs)       | false    | none         | PluginConfigRootfs plugin config rootfs                           |

<a id="tocSpluginconfigargs"></a>

#### PluginConfigArgs

<a id="schemapluginconfigargs"></a>

```json
{
  "Description": "string",
  "Name": "string",
  "Settable": ["string"],
  "Value": ["string"]
}
```

_PluginConfigArgs plugin config args_

#### Properties

| Name        | Type     | Required | Restrictions | Description |
| ----------- | -------- | -------- | ------------ | ----------- |
| Description | string   | true     | none         | description |
| Name        | string   | true     | none         | name        |
| Settable    | [string] | true     | none         | settable    |
| Value       | [string] | true     | none         | value       |

<a id="tocSpluginconfiginterface"></a>

#### PluginConfigInterface

<a id="schemapluginconfiginterface"></a>

```json
{
  "Socket": "string",
  "Types": [
    {
      "Capability": "string",
      "Prefix": "string",
      "Version": "string"
    }
  ]
}
```

_PluginConfigInterface The interface between Docker and the plugin_

#### Properties

| Name   | Type                                                | Required | Restrictions | Description |
| ------ | --------------------------------------------------- | -------- | ------------ | ----------- |
| Socket | string                                              | true     | none         | socket      |
| Types  | [[PluginInterfaceType](#schemaplugininterfacetype)] | true     | none         | types       |

<a id="tocSpluginconfiglinux"></a>

#### PluginConfigLinux

<a id="schemapluginconfiglinux"></a>

```json
{
  "AllowAllDevices": true,
  "Capabilities": ["string"],
  "Devices": [
    {
      "Description": "string",
      "Name": "string",
      "Path": "string",
      "Settable": ["string"]
    }
  ]
}
```

_PluginConfigLinux plugin config linux_

#### Properties

| Name            | Type                                  | Required | Restrictions | Description       |
| --------------- | ------------------------------------- | -------- | ------------ | ----------------- |
| AllowAllDevices | boolean                               | true     | none         | allow all devices |
| Capabilities    | [string]                              | true     | none         | capabilities      |
| Devices         | [[PluginDevice](#schemaplugindevice)] | true     | none         | devices           |

<a id="tocSpluginconfignetwork"></a>

#### PluginConfigNetwork

<a id="schemapluginconfignetwork"></a>

```json
{
  "Type": "string"
}
```

_PluginConfigNetwork plugin config network_

#### Properties

| Name | Type   | Required | Restrictions | Description |
| ---- | ------ | -------- | ------------ | ----------- |
| Type | string | true     | none         | type        |

<a id="tocSpluginconfigrootfs"></a>

#### PluginConfigRootfs

<a id="schemapluginconfigrootfs"></a>

```json
{
  "diff_ids": ["string"],
  "type": "string"
}
```

_PluginConfigRootfs plugin config rootfs_

#### Properties

| Name     | Type     | Required | Restrictions | Description |
| -------- | -------- | -------- | ------------ | ----------- |
| diff_ids | [string] | false    | none         | diff ids    |
| type     | string   | false    | none         | type        |

<a id="tocSpluginconfiguser"></a>

#### PluginConfigUser

<a id="schemapluginconfiguser"></a>

```json
{
  "GID": 0,
  "UID": 0
}
```

_PluginConfigUser plugin config user_

#### Properties

| Name | Type            | Required | Restrictions | Description |
| ---- | --------------- | -------- | ------------ | ----------- |
| GID  | integer(uint32) | false    | none         | g ID        |
| UID  | integer(uint32) | false    | none         | UID         |

<a id="tocSplugindevice"></a>

#### PluginDevice

<a id="schemaplugindevice"></a>

```json
{
  "Description": "string",
  "Name": "string",
  "Path": "string",
  "Settable": ["string"]
}
```

_PluginDevice plugin device_

#### Properties

| Name        | Type     | Required | Restrictions | Description |
| ----------- | -------- | -------- | ------------ | ----------- |
| Description | string   | true     | none         | description |
| Name        | string   | true     | none         | name        |
| Path        | string   | true     | none         | path        |
| Settable    | [string] | true     | none         | settable    |

<a id="tocSpluginenv"></a>

#### PluginEnv

<a id="schemapluginenv"></a>

```json
{
  "Description": "string",
  "Name": "string",
  "Settable": ["string"],
  "Value": "string"
}
```

_PluginEnv plugin env_

#### Properties

| Name        | Type     | Required | Restrictions | Description |
| ----------- | -------- | -------- | ------------ | ----------- |
| Description | string   | true     | none         | description |
| Name        | string   | true     | none         | name        |
| Settable    | [string] | true     | none         | settable    |
| Value       | string   | true     | none         | value       |

<a id="tocSplugininterfacetype"></a>

#### PluginInterfaceType

<a id="schemaplugininterfacetype"></a>

```json
{
  "Capability": "string",
  "Prefix": "string",
  "Version": "string"
}
```

_PluginInterfaceType plugin interface type_

#### Properties

| Name       | Type   | Required | Restrictions | Description |
| ---------- | ------ | -------- | ------------ | ----------- |
| Capability | string | true     | none         | capability  |
| Prefix     | string | true     | none         | prefix      |
| Version    | string | true     | none         | version     |

<a id="tocSpluginmount"></a>

#### PluginMount

<a id="schemapluginmount"></a>

```json
{
  "Description": "string",
  "Destination": "string",
  "Name": "string",
  "Options": ["string"],
  "Settable": ["string"],
  "Source": "string",
  "Type": "string"
}
```

_PluginMount plugin mount_

#### Properties

| Name        | Type     | Required | Restrictions | Description |
| ----------- | -------- | -------- | ------------ | ----------- |
| Description | string   | true     | none         | description |
| Destination | string   | true     | none         | destination |
| Name        | string   | true     | none         | name        |
| Options     | [string] | true     | none         | options     |
| Settable    | [string] | true     | none         | settable    |
| Source      | string   | true     | none         | source      |
| Type        | string   | true     | none         | type        |

<a id="tocSpluginsettings"></a>

#### PluginSettings

<a id="schemapluginsettings"></a>

```json
{
  "Args": ["string"],
  "Devices": [
    {
      "Description": "string",
      "Name": "string",
      "Path": "string",
      "Settable": ["string"]
    }
  ],
  "Env": ["string"],
  "Mounts": [
    {
      "Description": "string",
      "Destination": "string",
      "Name": "string",
      "Options": ["string"],
      "Settable": ["string"],
      "Source": "string",
      "Type": "string"
    }
  ]
}
```

_PluginSettings Settings that can be modified by users._

#### Properties

| Name    | Type                                  | Required | Restrictions | Description |
| ------- | ------------------------------------- | -------- | ------------ | ----------- |
| Args    | [string]                              | true     | none         | args        |
| Devices | [[PluginDevice](#schemaplugindevice)] | true     | none         | devices     |
| Env     | [string]                              | true     | none         | env         |
| Mounts  | [[PluginMount](#schemapluginmount)]   | true     | none         | mounts      |

<a id="tocSrecoveryaddress"></a>

#### RecoveryAddress

<a id="schemarecoveryaddress"></a>

```json
{
  "id": "string",
  "value": "string",
  "via": "string"
}
```

#### Properties

| Name  | Type                                              | Required | Restrictions | Description |
| ----- | ------------------------------------------------- | -------- | ------------ | ----------- |
| id    | [UUID](#schemauuid)                               | true     | none         | none        |
| value | string                                            | true     | none         | none        |
| via   | [RecoveryAddressType](#schemarecoveryaddresstype) | true     | none         | none        |

<a id="tocSrecoveryaddresstype"></a>

#### RecoveryAddressType

<a id="schemarecoveryaddresstype"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSstate"></a>

#### State

<a id="schemastate"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocStraits"></a>

#### Traits

<a id="schematraits"></a>

```json
{}
```

#### Properties

_None_

<a id="tocStype"></a>

#### Type

<a id="schematype"></a>

```json
"string"
```

_Type is the flow type._

#### Properties

| Name                   | Type   | Required | Restrictions | Description                                     |
| ---------------------- | ------ | -------- | ------------ | ----------------------------------------------- |
| Type is the flow type. | string | false    | none         | The flow type can either be `api` or `browser`. |

<a id="tocSuuid"></a>

#### UUID

<a id="schemauuid"></a>

```json
"string"
```

#### Properties

| Name        | Type          | Required | Restrictions | Description |
| ----------- | ------------- | -------- | ------------ | ----------- |
| _anonymous_ | string(uuid4) | false    | none         | none        |

<a id="tocSupdateidentity"></a>

#### UpdateIdentity

<a id="schemaupdateidentity"></a>

```json
{
  "schema_id": "string",
  "traits": {}
}
```

#### Properties

| Name      | Type   | Required | Restrictions | Description                                                                                                                                                                                                           |
| --------- | ------ | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| schema_id | string | false    | none         | SchemaID is the ID of the JSON Schema to be used for validating the identity's traits. If set<br/>will update the Identity's SchemaID.                                                                                |
| traits    | object | true     | none         | Traits represent an identity's traits. The identity is able to create, modify, and delete traits<br/>in a self-service manner. The input will always be validated against the JSON Schema defined<br/>in `schema_id`. |

<a id="tocSverifiableaddress"></a>

#### VerifiableAddress

<a id="schemaverifiableaddress"></a>

```json
{
  "id": "string",
  "status": "string",
  "value": "string",
  "verified": true,
  "verified_at": "2019-08-24T14:15:22Z",
  "via": "string"
}
```

#### Properties

| Name        | Type                                                      | Required | Restrictions | Description |
| ----------- | --------------------------------------------------------- | -------- | ------------ | ----------- |
| id          | [UUID](#schemauuid)                                       | true     | none         | none        |
| status      | [VerifiableAddressStatus](#schemaverifiableaddressstatus) | true     | none         | none        |
| value       | string                                                    | true     | none         | none        |
| verified    | boolean                                                   | true     | none         | none        |
| verified_at | [NullTime](#schemanulltime)                               | false    | none         | none        |
| via         | [VerifiableAddressType](#schemaverifiableaddresstype)     | true     | none         | none        |

<a id="tocSverifiableaddressstatus"></a>

#### VerifiableAddressStatus

<a id="schemaverifiableaddressstatus"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSverifiableaddresstype"></a>

#### VerifiableAddressType

<a id="schemaverifiableaddresstype"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSvolumeusagedata"></a>

#### VolumeUsageData

<a id="schemavolumeusagedata"></a>

```json
{
  "RefCount": 0,
  "Size": 0
}
```

_VolumeUsageData Usage details about the volume. This information is used by the
`GET /system/df` endpoint, and omitted in other endpoints._

#### Properties

| Name     | Type           | Required | Restrictions | Description                                                                                                                                                                                                                                         |
| -------- | -------------- | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| RefCount | integer(int64) | true     | none         | The number of containers referencing this volume. This field<br/>is set to `-1` if the reference-count is not available.                                                                                                                            |
| Size     | integer(int64) | true     | none         | Amount of disk space used by the volume (in bytes). This information<br/>is only available for volumes created with the `"local"` volume<br/>driver. For volumes created with other volume drivers, this field<br/>is set to `-1` ("not available") |

<a id="tocSerrorcontainer"></a>

#### errorContainer

<a id="schemaerrorcontainer"></a>

```json
{
  "errors": {},
  "id": "string"
}
```

#### Properties

| Name   | Type                | Required | Restrictions | Description             |
| ------ | ------------------- | -------- | ------------ | ----------------------- |
| errors | object              | true     | none         | Errors in the container |
| id     | [UUID](#schemauuid) | true     | none         | none                    |

<a id="tocSgenericerror"></a>

#### genericError

<a id="schemagenericerror"></a>

```json
{
  "error": {
    "code": 404,
    "debug": "The database adapter was unable to find the element",
    "details": {},
    "message": "string",
    "reason": "string",
    "request": "string",
    "status": "string"
  }
}
```

_Error response_

#### Properties

| Name  | Type                                              | Required | Restrictions | Description |
| ----- | ------------------------------------------------- | -------- | ------------ | ----------- |
| error | [genericErrorPayload](#schemagenericerrorpayload) | false    | none         | none        |

<a id="tocSgenericerrorpayload"></a>

#### genericErrorPayload

<a id="schemagenericerrorpayload"></a>

```json
{
  "code": 404,
  "debug": "The database adapter was unable to find the element",
  "details": {},
  "message": "string",
  "reason": "string",
  "request": "string",
  "status": "string"
}
```

#### Properties

| Name    | Type           | Required | Restrictions | Description                                                                            |
| ------- | -------------- | -------- | ------------ | -------------------------------------------------------------------------------------- |
| code    | integer(int64) | false    | none         | Code represents the error status code (404, 403, 401, ...).                            |
| debug   | string         | false    | none         | Debug contains debug information. This is usually not available and has to be enabled. |
| details | object         | false    | none         | none                                                                                   |
| message | string         | false    | none         | none                                                                                   |
| reason  | string         | false    | none         | none                                                                                   |
| request | string         | false    | none         | none                                                                                   |
| status  | string         | false    | none         | none                                                                                   |

<a id="tocShealthnotreadystatus"></a>

#### healthNotReadyStatus

<a id="schemahealthnotreadystatus"></a>

```json
{
  "errors": {
    "property1": "string",
    "property2": "string"
  }
}
```

#### Properties

| Name                       | Type   | Required | Restrictions | Description                                                        |
| -------------------------- | ------ | -------- | ------------ | ------------------------------------------------------------------ |
| errors                     | object | false    | none         | Errors contains a list of errors that caused the not ready status. |
| » **additionalProperties** | string | false    | none         | none                                                               |

<a id="tocShealthstatus"></a>

#### healthStatus

<a id="schemahealthstatus"></a>

```json
{
  "status": "string"
}
```

#### Properties

| Name   | Type   | Required | Restrictions | Description                  |
| ------ | ------ | -------- | ------------ | ---------------------------- |
| status | string | false    | none         | Status always contains "ok". |

<a id="tocSjsonschema"></a>

#### jsonSchema

<a id="schemajsonschema"></a>

```json
{}
```

_Raw JSON Schema_

#### Properties

_None_

<a id="tocSloginflow"></a>

#### loginFlow

<a id="schemaloginflow"></a>

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "forced": true,
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

_Login Flow_

#### Properties

| Name        | Type                                      | Required | Restrictions | Description                                                                                                                                                   |
| ----------- | ----------------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| active      | [CredentialsType](#schemacredentialstype) | false    | none         | and so on.                                                                                                                                                    |
| expires_at  | string(date-time)                         | true     | none         | ExpiresAt is the time (UTC) when the flow expires. If the user still wishes to log in,<br/>a new flow has to be initiated.                                    |
| forced      | boolean                                   | false    | none         | Forced stores whether this login flow should enforce re-authentication.                                                                                       |
| id          | [UUID](#schemauuid)                       | true     | none         | none                                                                                                                                                          |
| issued_at   | string(date-time)                         | true     | none         | IssuedAt is the time (UTC) when the flow started.                                                                                                             |
| request_url | string                                    | true     | none         | RequestURL is the initial URL that was requested from Ory Kratos. It can be used<br/>to forward information contained in the URL's path or query for example. |
| type        | [Type](#schematype)                       | true     | none         | The flow type can either be `api` or `browser`.                                                                                                               |
| ui          | [uiContainer](#schemauicontainer)         | true     | none         | Container represents a HTML Form. The container can work with both HTTP Form and JSON requests                                                                |

<a id="tocSloginviaapiresponse"></a>

#### loginViaApiResponse

<a id="schemaloginviaapiresponse"></a>

```json
{
  "session": {
    "active": true,
    "authenticated_at": "2019-08-24T14:15:22Z",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z"
  },
  "session_token": "string"
}
```

_The Response for Login Flows via API_

#### Properties

| Name          | Type                      | Required | Restrictions | Description                                                                                                                                                                                                                                                            |
| ------------- | ------------------------- | -------- | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| session       | [session](#schemasession) | true     | none         | none                                                                                                                                                                                                                                                                   |
| session_token | string                    | true     | none         | The Session Token<br/><br/>A session token is equivalent to a session cookie, but it can be sent in the HTTP Authorization<br/>Header:<br/><br/>Authorization: bearer ${session-token}<br/><br/>The session token is only issued for API flows, not for Browser flows! |

<a id="tocSrecoveryflow"></a>

#### recoveryFlow

<a id="schemarecoveryflow"></a>

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

_A Recovery Flow_

#### Properties

| Name        | Type                              | Required | Restrictions | Description                                                                                                                                                   |
| ----------- | --------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| active      | string                            | false    | none         | Active, if set, contains the registration method that is being used. It is initially<br/>not set.                                                             |
| expires_at  | string(date-time)                 | true     | none         | ExpiresAt is the time (UTC) when the request expires. If the user still wishes to update the setting,<br/>a new request has to be initiated.                  |
| id          | [UUID](#schemauuid)               | true     | none         | none                                                                                                                                                          |
| issued_at   | string(date-time)                 | true     | none         | IssuedAt is the time (UTC) when the request occurred.                                                                                                         |
| request_url | string                            | true     | none         | RequestURL is the initial URL that was requested from Ory Kratos. It can be used<br/>to forward information contained in the URL's path or query for example. |
| state       | [State](#schemastate)             | true     | none         | none                                                                                                                                                          |
| type        | [Type](#schematype)               | false    | none         | The flow type can either be `api` or `browser`.                                                                                                               |
| ui          | [uiContainer](#schemauicontainer) | true     | none         | Container represents a HTML Form. The container can work with both HTTP Form and JSON requests                                                                |

<a id="tocSrecoverylink"></a>

#### recoveryLink

<a id="schemarecoverylink"></a>

```json
{
  "expires_at": "2019-08-24T14:15:22Z",
  "recovery_link": "string"
}
```

#### Properties

| Name          | Type              | Required | Restrictions | Description                                                                     |
| ------------- | ----------------- | -------- | ------------ | ------------------------------------------------------------------------------- |
| expires_at    | string(date-time) | false    | none         | Recovery Link Expires At<br/><br/>The timestamp when the recovery link expires. |
| recovery_link | string            | true     | none         | Recovery Link<br/><br/>This link can be used to recover the account.            |

<a id="tocSregistrationflow"></a>

#### registrationFlow

<a id="schemaregistrationflow"></a>

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

#### Properties

| Name        | Type                                      | Required | Restrictions | Description                                                                                                                                                   |
| ----------- | ----------------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| active      | [CredentialsType](#schemacredentialstype) | false    | none         | and so on.                                                                                                                                                    |
| expires_at  | string(date-time)                         | true     | none         | ExpiresAt is the time (UTC) when the flow expires. If the user still wishes to log in,<br/>a new flow has to be initiated.                                    |
| id          | [UUID](#schemauuid)                       | true     | none         | none                                                                                                                                                          |
| issued_at   | string(date-time)                         | true     | none         | IssuedAt is the time (UTC) when the flow occurred.                                                                                                            |
| request_url | string                                    | true     | none         | RequestURL is the initial URL that was requested from Ory Kratos. It can be used<br/>to forward information contained in the URL's path or query for example. |
| type        | [Type](#schematype)                       | false    | none         | The flow type can either be `api` or `browser`.                                                                                                               |
| ui          | [uiContainer](#schemauicontainer)         | true     | none         | Container represents a HTML Form. The container can work with both HTTP Form and JSON requests                                                                |

<a id="tocSregistrationviaapiresponse"></a>

#### registrationViaApiResponse

<a id="schemaregistrationviaapiresponse"></a>

```json
{
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "session": {
    "active": true,
    "authenticated_at": "2019-08-24T14:15:22Z",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z"
  },
  "session_token": "string"
}
```

_The Response for Registration Flows via API_

#### Properties

| Name          | Type                        | Required | Restrictions | Description                                                                                                                                                                                                                                                                                                                                                             |
| ------------- | --------------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| identity      | [Identity](#schemaidentity) | true     | none         | none                                                                                                                                                                                                                                                                                                                                                                    |
| session       | [session](#schemasession)   | false    | none         | none                                                                                                                                                                                                                                                                                                                                                                    |
| session_token | string                      | true     | none         | The Session Token<br/><br/>This field is only set when the session hook is configured as a post-registration hook.<br/><br/>A session token is equivalent to a session cookie, but it can be sent in the HTTP Authorization<br/>Header:<br/><br/>Authorization: bearer ${session-token}<br/><br/>The session token is only issued for API flows, not for Browser flows! |

<a id="tocSrevokesession"></a>

#### revokeSession

<a id="schemarevokesession"></a>

```json
{
  "session_token": "string"
}
```

#### Properties

| Name          | Type   | Required | Restrictions | Description                                               |
| ------------- | ------ | -------- | ------------ | --------------------------------------------------------- |
| session_token | string | true     | none         | The Session Token<br/><br/>Invalidate this session token. |

<a id="tocSsession"></a>

#### session

<a id="schemasession"></a>

```json
{
  "active": true,
  "authenticated_at": "2019-08-24T14:15:22Z",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "issued_at": "2019-08-24T14:15:22Z"
}
```

#### Properties

| Name             | Type                        | Required | Restrictions | Description |
| ---------------- | --------------------------- | -------- | ------------ | ----------- |
| active           | boolean                     | false    | none         | none        |
| authenticated_at | string(date-time)           | true     | none         | none        |
| expires_at       | string(date-time)           | true     | none         | none        |
| id               | [UUID](#schemauuid)         | true     | none         | none        |
| identity         | [Identity](#schemaidentity) | true     | none         | none        |
| issued_at        | string(date-time)           | true     | none         | none        |

<a id="tocSsettingsflow"></a>

#### settingsFlow

<a id="schemasettingsflow"></a>

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  },
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

_Flow represents a Settings Flow_

#### Properties

| Name        | Type                              | Required | Restrictions | Description                                                                                                                                                   |
| ----------- | --------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| active      | string                            | false    | none         | Active, if set, contains the registration method that is being used. It is initially<br/>not set.                                                             |
| expires_at  | string(date-time)                 | true     | none         | ExpiresAt is the time (UTC) when the flow expires. If the user still wishes to update the setting,<br/>a new flow has to be initiated.                        |
| id          | [UUID](#schemauuid)               | true     | none         | none                                                                                                                                                          |
| identity    | [Identity](#schemaidentity)       | true     | none         | none                                                                                                                                                          |
| issued_at   | string(date-time)                 | true     | none         | IssuedAt is the time (UTC) when the flow occurred.                                                                                                            |
| request_url | string                            | true     | none         | RequestURL is the initial URL that was requested from Ory Kratos. It can be used<br/>to forward information contained in the URL's path or query for example. |
| state       | [State](#schemastate)             | true     | none         | none                                                                                                                                                          |
| type        | [Type](#schematype)               | false    | none         | The flow type can either be `api` or `browser`.                                                                                                               |
| ui          | [uiContainer](#schemauicontainer) | true     | none         | Container represents a HTML Form. The container can work with both HTTP Form and JSON requests                                                                |

<a id="tocSsettingsviaapiresponse"></a>

#### settingsViaApiResponse

<a id="schemasettingsviaapiresponse"></a>

```json
{
  "flow": {
    "active": "string",
    "expires_at": "2019-08-24T14:15:22Z",
    "id": "string",
    "identity": {
      "id": "string",
      "recovery_addresses": [
        {
          "id": "string",
          "value": "string",
          "via": "string"
        }
      ],
      "schema_id": "string",
      "schema_url": "string",
      "traits": {},
      "verifiable_addresses": [
        {
          "id": "string",
          "status": "string",
          "value": "string",
          "verified": true,
          "verified_at": "2019-08-24T14:15:22Z",
          "via": "string"
        }
      ]
    },
    "issued_at": "2019-08-24T14:15:22Z",
    "request_url": "string",
    "state": "string",
    "type": "string",
    "ui": {
      "action": "string",
      "messages": [
        {
          "context": {},
          "id": 0,
          "text": "string",
          "type": "string"
        }
      ],
      "method": "string",
      "nodes": [
        {
          "attributes": {},
          "group": "string",
          "messages": [
            {
              "context": {},
              "id": 0,
              "text": "string",
              "type": "string"
            }
          ],
          "meta": {
            "label": {
              "context": {},
              "id": 0,
              "text": "string",
              "type": "string"
            }
          },
          "type": "string"
        }
      ]
    }
  },
  "identity": {
    "id": "string",
    "recovery_addresses": [
      {
        "id": "string",
        "value": "string",
        "via": "string"
      }
    ],
    "schema_id": "string",
    "schema_url": "string",
    "traits": {},
    "verifiable_addresses": [
      {
        "id": "string",
        "status": "string",
        "value": "string",
        "verified": true,
        "verified_at": "2019-08-24T14:15:22Z",
        "via": "string"
      }
    ]
  }
}
```

_The Response for Settings Flows via API_

#### Properties

| Name     | Type                                | Required | Restrictions | Description                                                                                                                                                                                                                       |
| -------- | ----------------------------------- | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| flow     | [settingsFlow](#schemasettingsflow) | true     | none         | This flow is used when an identity wants to update settings<br/>(e.g. profile data, passwords, ...) in a selfservice manner.<br/><br/>We recommend reading the [User Settings Documentation](../self-service/flows/user-settings) |
| identity | [Identity](#schemaidentity)         | true     | none         | none                                                                                                                                                                                                                              |

<a id="tocSsubmitselfserviceloginflow"></a>

#### submitSelfServiceLoginFlow

<a id="schemasubmitselfserviceloginflow"></a>

```json
{}
```

#### Properties

_None_

<a id="tocSsubmitselfservicerecoveryflow"></a>

#### submitSelfServiceRecoveryFlow

<a id="schemasubmitselfservicerecoveryflow"></a>

```json
{}
```

#### Properties

_None_

<a id="tocSsubmitselfservicerecoveryflowwithlinkmethod"></a>

#### submitSelfServiceRecoveryFlowWithLinkMethod

<a id="schemasubmitselfservicerecoveryflowwithlinkmethod"></a>

```json
{
  "csrf_token": "string",
  "email": "string"
}
```

#### Properties

| Name       | Type   | Required | Restrictions | Description                                                                                                                                                                                                                                                                       |
| ---------- | ------ | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| csrf_token | string | false    | none         | Sending the anti-csrf token is only required for browser login flows.                                                                                                                                                                                                             |
| email      | string | false    | none         | Email to Recover<br/><br/>Needs to be set when initiating the flow. If the email is a registered<br/>recovery email, a recovery link will be sent. If the email is not known,<br/>a email with details on what happened will be sent instead.<br/><br/>format: email<br/>in: body |

<a id="tocSsubmitselfserviceregistrationflow"></a>

#### submitSelfServiceRegistrationFlow

<a id="schemasubmitselfserviceregistrationflow"></a>

```json
{}
```

#### Properties

_None_

<a id="tocSsubmitselfservicesettingsflow"></a>

#### submitSelfServiceSettingsFlow

<a id="schemasubmitselfservicesettingsflow"></a>

```json
{}
```

#### Properties

_None_

<a id="tocSuicontainer"></a>

#### uiContainer

<a id="schemauicontainer"></a>

```json
{
  "action": "string",
  "messages": [
    {
      "context": {},
      "id": 0,
      "text": "string",
      "type": "string"
    }
  ],
  "method": "string",
  "nodes": [
    {
      "attributes": {},
      "group": "string",
      "messages": [
        {
          "context": {},
          "id": 0,
          "text": "string",
          "type": "string"
        }
      ],
      "meta": {
        "label": {
          "context": {},
          "id": 0,
          "text": "string",
          "type": "string"
        }
      },
      "type": "string"
    }
  ]
}
```

_Container represents a HTML Form. The container can work with both HTTP Form
and JSON requests_

#### Properties

| Name     | Type                      | Required | Restrictions | Description                                                                                 |
| -------- | ------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------- |
| action   | string                    | true     | none         | Action should be used as the form action URL `<form action="{{ .Action }}" method="post">`. |
| messages | [uiTexts](#schemauitexts) | false    | none         | none                                                                                        |
| method   | string                    | true     | none         | Method is the form method (e.g. POST)                                                       |
| nodes    | [uiNodes](#schemauinodes) | true     | none         | none                                                                                        |

<a id="tocSuinode"></a>

#### uiNode

<a id="schemauinode"></a>

```json
{
  "attributes": {},
  "group": "string",
  "messages": [
    {
      "context": {},
      "id": 0,
      "text": "string",
      "type": "string"
    }
  ],
  "meta": {
    "label": {
      "context": {},
      "id": 0,
      "text": "string",
      "type": "string"
    }
  },
  "type": "string"
}
```

_Node represents a flow's nodes_

#### Properties

| Name       | Type                                        | Required | Restrictions | Description                                                                                     |
| ---------- | ------------------------------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------- |
| attributes | [uiNodeAttributes](#schemauinodeattributes) | true     | none         | none                                                                                            |
| group      | [uiNodeGroup](#schemauinodegroup)           | true     | none         | none                                                                                            |
| messages   | [uiTexts](#schemauitexts)                   | true     | none         | none                                                                                            |
| meta       | [Meta](#schemameta)                         | true     | none         | This might include a label and other information that can optionally<br/>be used to render UIs. |
| type       | [uiNodeType](#schemauinodetype)             | true     | none         | none                                                                                            |

<a id="tocSuinodeattributes"></a>

#### uiNodeAttributes

<a id="schemauinodeattributes"></a>

```json
{}
```

_Attributes represents a list of attributes (e.g. `href="foo"` for links)._

#### Properties

_None_

<a id="tocSuinodegroup"></a>

#### uiNodeGroup

<a id="schemauinodegroup"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSuinodeinputattributetype"></a>

#### uiNodeInputAttributeType

<a id="schemauinodeinputattributetype"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSuinodetype"></a>

#### uiNodeType

<a id="schemauinodetype"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSuinodes"></a>

#### uiNodes

<a id="schemauinodes"></a>

```json
[
  {
    "attributes": {},
    "group": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "meta": {
      "label": {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    },
    "type": "string"
  }
]
```

#### Properties

| Name        | Type                      | Required | Restrictions | Description                                                                                                                                                                 |
| ----------- | ------------------------- | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| _anonymous_ | [[uiNode](#schemauinode)] | false    | none         | [Nodes are represented as HTML elements or their native UI equivalents. For example,<br/>a node can be an `<img>` tag, or an `<input element>` but also `some plain text`.] |

<a id="tocSuitext"></a>

#### uiText

<a id="schemauitext"></a>

```json
{
  "context": {},
  "id": 0,
  "text": "string",
  "type": "string"
}
```

#### Properties

| Name    | Type                            | Required | Restrictions | Description                                              |
| ------- | ------------------------------- | -------- | ------------ | -------------------------------------------------------- |
| context | object                          | false    | none         | The message's context. Useful when customizing messages. |
| id      | [ID](#schemaid)                 | true     | none         | none                                                     |
| text    | string                          | true     | none         | The message text. Written in american english.           |
| type    | [uiTextType](#schemauitexttype) | true     | none         | none                                                     |

<a id="tocSuitexttype"></a>

#### uiTextType

<a id="schemauitexttype"></a>

```json
"string"
```

#### Properties

| Name        | Type   | Required | Restrictions | Description |
| ----------- | ------ | -------- | ------------ | ----------- |
| _anonymous_ | string | false    | none         | none        |

<a id="tocSuitexts"></a>

#### uiTexts

<a id="schemauitexts"></a>

```json
[
  {
    "context": {},
    "id": 0,
    "text": "string",
    "type": "string"
  }
]
```

#### Properties

| Name        | Type                      | Required | Restrictions | Description |
| ----------- | ------------------------- | -------- | ------------ | ----------- |
| _anonymous_ | [[uiText](#schemauitext)] | false    | none         | none        |

<a id="tocSverificationflow"></a>

#### verificationFlow

<a id="schemaverificationflow"></a>

```json
{
  "active": "string",
  "expires_at": "2019-08-24T14:15:22Z",
  "id": "string",
  "issued_at": "2019-08-24T14:15:22Z",
  "request_url": "string",
  "state": "string",
  "type": "string",
  "ui": {
    "action": "string",
    "messages": [
      {
        "context": {},
        "id": 0,
        "text": "string",
        "type": "string"
      }
    ],
    "method": "string",
    "nodes": [
      {
        "attributes": {},
        "group": "string",
        "messages": [
          {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        ],
        "meta": {
          "label": {
            "context": {},
            "id": 0,
            "text": "string",
            "type": "string"
          }
        },
        "type": "string"
      }
    ]
  }
}
```

_A Verification Flow_

#### Properties

| Name        | Type                              | Required | Restrictions | Description                                                                                                                                                   |
| ----------- | --------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| active      | string                            | false    | none         | Active, if set, contains the registration method that is being used. It is initially<br/>not set.                                                             |
| expires_at  | string(date-time)                 | false    | none         | ExpiresAt is the time (UTC) when the request expires. If the user still wishes to verify the address,<br/>a new request has to be initiated.                  |
| id          | [UUID](#schemauuid)               | true     | none         | none                                                                                                                                                          |
| issued_at   | string(date-time)                 | false    | none         | IssuedAt is the time (UTC) when the request occurred.                                                                                                         |
| request_url | string                            | false    | none         | RequestURL is the initial URL that was requested from Ory Kratos. It can be used<br/>to forward information contained in the URL's path or query for example. |
| state       | [State](#schemastate)             | true     | none         | none                                                                                                                                                          |
| type        | [Type](#schematype)               | true     | none         | The flow type can either be `api` or `browser`.                                                                                                               |
| ui          | [uiContainer](#schemauicontainer) | true     | none         | Container represents a HTML Form. The container can work with both HTTP Form and JSON requests                                                                |

<a id="tocSversion"></a>

#### version

<a id="schemaversion"></a>

```json
{
  "version": "string"
}
```

#### Properties

| Name    | Type   | Required | Restrictions | Description                       |
| ------- | ------ | -------- | ------------ | --------------------------------- |
| version | string | false    | none         | Version is the service's version. |
